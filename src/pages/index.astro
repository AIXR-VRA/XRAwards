---
export const prerender = true; // Static page for better performance

import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import KeyDates from '../components/sections/KeyDates.astro';
import { supabase } from '../utils/supabase';

// Fetch active event details
const { data: eventDetails } = await supabase
  .from('event_details')
  .select('*')
  .eq('is_active', true)
  .single();

// Fetch first 4 judges for the active event with their tags
const { data: judges } = await supabase
  .from('judges')
  .select(`
    id,
    first_name,
    last_name,
    job_title,
    organization,
    profile_image_url,
    sort_order,
    judge_events!inner(event_id),
    judge_tags(
      tags(
        id,
        name
      )
    )
  `)
  .eq('judge_events.event_id', eventDetails?.id)
  .eq('is_visible', true)
  .order('sort_order', { ascending: true })
  .limit(4);
---

<Layout
  title="AIXR XR Awards - Recognizing Excellence in VR, AR & MR"
  description="The AIXR XR Awards sit at the heart of recognising excellence in virtual and augmented reality. Now part of United XR, we've joined forces with AWE and Stereopsia's European XR Awards to expand our global reach."
>
  <script type="application/ld+json" slot="head">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "@id": "https://xrawards.aixr.org/#organization",
  "name": "AIXR XR Awards",
  "alternateName": "XR Awards",
  "url": "https://xrawards.aixr.org",
  "logo": {
    "@type": "ImageObject",
    "url": "https://xrawards.aixr.org/logo.svg",
    "width": "1200",
    "height": "630"
  },
  "description": "The AIXR XR Awards sit at the heart of recognising excellence in virtual and augmented reality.",
  "knowsAbout": [
    "Virtual Reality",
    "Augmented Reality",
    "Mixed Reality",
    "XR Technology",
    "Awards Ceremony"
  ]
}
  </script>

  <Header />

  <main class="min-h-screen">
    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-center overflow-hidden bg-[#1e1b3c]">
      
      <!-- Content -->
      <div class="relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-32 w-full">
        <div class="max-w-3xl">
          <!-- Date and Location -->
          <p class="text-sm md:text-base text-white mb-8 font-mono">
            {eventDetails?.location || 'Brussels, Belgium'}
            <span class="text-orange-500">|</span>
            {eventDetails?.awards_ceremony ? new Date(eventDetails.awards_ceremony).toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }) : '09 Dec 2025'}
          </p>
          
          <!-- Main Branding -->
          <div class="mb-8">
            <div class="text-white/50 text-xs uppercase tracking-[0.3em] mb-2">Europe</div>
            <h1 class="text-5xl md:text-7xl lg:text-8xl font-bold text-white mb-6">
              United<span class="text-pink-500">XR</span>
            </h1>
            
            <!-- Partner Logos -->
            <div class="flex items-center gap-4 md:gap-6 mb-10 flex-wrap">
              <div class="flex items-center gap-2 text-white/70 text-xs md:text-sm">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M3 3h18v18H3z"/>
                </svg>
                <span>AWE</span>
              </div>
              <span class="text-white/40 text-xl">+</span>
              <div class="flex items-center gap-2 text-white/70 text-xs md:text-sm">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <circle cx="12" cy="12" r="10"/>
                </svg>
                <span>stereopsis</span>
              </div>
              <span class="text-white/40 text-xl">+</span>
              <div class="flex items-center gap-2 text-white/70 text-xs md:text-sm">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2L2 7v10l10 5 10-5V7z"/>
                </svg>
                <span>XR AWARDS</span>
              </div>
            </div>
          </div>
          
          <!-- Headline -->
          <h2 class="text-2xl md:text-3xl lg:text-4xl font-normal text-white mb-8 leading-relaxed">
            AIXR XR Awards joins United XR to create the largest global celebration of VR & AR.
          </h2>
          
          <!-- Carousel Indicators -->
          <div class="flex items-center gap-2 mb-8">
            <button class="w-2 h-2 rounded-full bg-cyan-400"></button>
            <button class="w-2 h-2 rounded-full bg-cyan-400/40"></button>
            <button class="w-2 h-2 rounded-full bg-cyan-400/40"></button>
            <button class="w-2 h-2 rounded-full bg-cyan-400/40"></button>
            <button class="w-2 h-2 rounded-full bg-cyan-400/40"></button>
            <button class="w-2 h-2 rounded-full bg-cyan-400/40"></button>
          </div>
          
          <!-- CTA Button -->
          <div>
            <a
              href={eventDetails?.nomination_portal_url || 'https://app.aixr.org/e/20a6e09d-7e86-488d-8436-1cd162d0f5df'}
              class="inline-flex items-center px-8 py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors text-base md:text-lg"
            >
              Nominate Now
            </a>
          </div>
        </div>
      </div>
      
      <!-- Decorative orbs -->
      <div class="absolute top-1/4 right-10 w-64 h-64 bg-pink-500/20 rounded-full blur-3xl"></div>
      <div class="absolute bottom-1/4 left-10 w-64 h-64 bg-purple-500/20 rounded-full blur-3xl"></div>
    </section>

    <!-- About Section with Feature Cards -->
    <section class="py-16 md:py-24 bg-white">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Introductory Text -->
        <div class="max-w-3xl mb-12">
          <p class="text-base md:text-lg text-gray-800 mb-6 leading-relaxed">
            The AiXR XR Awards sit at the heart of recognising excellence in virtual and augmented reality. Now part of United XR, we've joined forces with AWE and Stereopsia's European XR Awards to expand our global reach. For the first time, we're combining awards into a single <strong class="font-semibold">XR Awards Gala</strong>.
          </p>
          <p class="text-base md:text-lg text-gray-800 mb-8 leading-relaxed">
            More than just a red carpet event, it's a culmination of year-round international efforts to spotlight outstanding work and connect the most influential voices across the industry.
          </p>
          <p class="text-sm md:text-base text-gray-600 mb-12">
            This is your moment. Be part of it.
          </p>
        </div>

        <!-- Feature Cards -->
        <div class="flex flex-col md:flex-row gap-8 md:gap-24 mb-16 max-w-full">
          <!-- Card 1: What's new for 2025? -->
          <a href="#" class="group relative w-[85vw] md:w-[41%] aspect-video mb-8 md:mb-12">
            <img 
              src="https://picsum.photos/600/340" 
              alt="What's new for 2025?"
              class="w-full h-full object-cover rounded-lg"
            />
            <div class="feature-banner absolute bottom-8 md:bottom-12 md:left-8 md:-right-4 rounded-md p-4 md:p-6" style="left: 5vw; right: -5vw;">
              <div class="flex items-start justify-between">
                <p class="text-white text-lg md:text-xl font-medium pr-3 font-['Jura']">What's new for 2025?</p>
                <svg class="w-8 h-8 text-white flex-shrink-0 feature-arrow -mt-1 -mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 19L19 5M19 5H7M19 5V17" />
                </svg>
              </div>
            </div>
          </a>

          <!-- Card 2: See 2024 Highlights -->
          <a href="#" class="group relative w-[85vw] md:w-[41%] aspect-video mb-8 md:mb-12">
            <img 
              src="https://picsum.photos/600/340?random=2" 
              alt="See 2024 Highlights"
              class="w-full h-full object-cover rounded-lg"
            />
            <div class="feature-banner absolute bottom-8 md:bottom-12 md:left-8 md:-right-4 rounded-md p-4 md:p-6" style="left: 5vw; right: -5vw;">
              <div class="flex items-start justify-between">
                <p class="text-white text-lg md:text-xl font-medium pr-3 font-['Jura']">See 2024 Highlights</p>
                <svg class="w-8 h-8 text-white flex-shrink-0 feature-arrow -mt-1 -mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 19L19 5M19 5H7M19 5V17" />
                </svg>
              </div>
            </div>
          </a>
        </div>

        <!-- Sponsors -->
        <div class="text-left mb-8">
          <p class="text-sm text-gray-600">Thank you to our sponsors</p>
        </div>
        
        <!-- Sponsor Logos - Row 1 -->
        <div class="grid grid-cols-2 md:grid-cols-5 gap-8 items-center mb-6">
          <div class="opacity-70 hover:opacity-100 transition-opacity flex items-center justify-start">
            <div class="h-10 w-20 bg-gray-300 rounded flex items-center justify-center text-xs">PICO</div>
          </div>
          <div class="opacity-70 hover:opacity-100 transition-opacity flex items-center justify-start">
            <div class="h-10 w-20 bg-gray-300 rounded flex items-center justify-center text-xs">Niantic</div>
          </div>
          <div class="opacity-70 hover:opacity-100 transition-opacity flex items-center justify-start">
            <div class="h-10 w-20 bg-gray-300 rounded flex items-center justify-center text-xs">MGW</div>
          </div>
          <div class="opacity-70 hover:opacity-100 transition-opacity flex items-center justify-start">
            <div class="h-10 w-20 bg-gray-300 rounded flex items-center justify-center text-xs">Bird&Bird</div>
          </div>
          <div class="opacity-70 hover:opacity-100 transition-opacity flex items-center justify-start">
            <div class="h-10 w-20 bg-gray-300 rounded flex items-center justify-center text-xs">TroposAR</div>
          </div>
        </div>
        
        <!-- Sponsor Logos - Row 2 -->
        <div class="grid grid-cols-2 md:grid-cols-6 gap-8 items-center">
          <div class="opacity-70 hover:opacity-100 transition-opacity flex items-center justify-start">
            <div class="h-10 w-20 bg-gray-300 rounded flex items-center justify-center text-xs">XRAI</div>
          </div>
          <div class="opacity-70 hover:opacity-100 transition-opacity flex items-center justify-start">
            <div class="h-10 w-20 bg-gray-300 rounded flex items-center justify-center text-xs">UploadVR</div>
          </div>
          <div class="opacity-70 hover:opacity-100 transition-opacity flex items-center justify-start">
            <div class="h-10 w-20 bg-gray-300 rounded flex items-center justify-center text-xs">Sidequest</div>
          </div>
          <div class="opacity-70 hover:opacity-100 transition-opacity flex items-center justify-start">
            <div class="h-10 w-20 bg-gray-300 rounded flex items-center justify-center text-xs">Noetic</div>
          </div>
          <div class="opacity-70 hover:opacity-100 transition-opacity flex items-center justify-start">
            <div class="h-10 w-20 bg-gray-300 rounded flex items-center justify-center text-xs">AWE</div>
          </div>
          <div class="opacity-70 hover:opacity-100 transition-opacity flex items-center justify-start">
            <div class="h-10 w-20 bg-gray-300 rounded flex items-center justify-center text-xs">Norcat</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Key Dates Section -->
    {eventDetails && (
      <section class="section" style="background-color: #0E1022;">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="mb-16">
            <h2 class="text-4xl font-bold mb-4 text-white">{eventDetails.event_year} Key Dates</h2>
            <p class="text-lg text-gray-400">Mark your calendar for these important milestones in the awards journey</p>
          </div>

          <KeyDates
            year={eventDetails.event_year}
            nominationsOpen={eventDetails.nominations_open}
            nominationsClose={eventDetails.nominations_close}
            finalistsAnnounced={eventDetails.finalists_announced}
            judgingPeriodStart={eventDetails.judging_period_start}
            judgingPeriodEnd={eventDetails.judging_period_end}
            awardsCeremony={eventDetails.awards_ceremony}
          />
        </div>
      </section>
    )}

    <!-- Winners Showcase Section -->
    <section class="section bg-light">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-bold mb-4">Explore Award Winning Companies</h2>
          <p class="text-lg text-secondary max-w-3xl mx-auto mb-8">
            The impact of becoming a finalist at the XR Awards Gala
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="/winners-and-finalists-2024" class="btn btn-primary">2024 Winners</a>
            <a href="/xr-awards-2024" class="btn btn-outline">Relive the 2024 night</a>
          </div>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div class="card">
            <div class="aspect-video bg-gray-200"></div>
            <div class="p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="h-8 w-16 bg-gray-300 rounded"></div>
                <span class="text-sm text-secondary">2024</span>
              </div>
              <h3 class="text-xl font-semibold text-dark mb-2">Apple – Apple Vision Pro</h3>
              <h4 class="text-sm font-medium text-primary uppercase tracking-wide">XR Head-Mounted-Display of the Year</h4>
            </div>
          </div>
          <div class="card">
            <div class="aspect-video bg-gray-200"></div>
            <div class="p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="h-8 w-16 bg-gray-300 rounded"></div>
                <span class="text-sm text-secondary">2024</span>
              </div>
              <h3 class="text-xl font-semibold text-dark mb-2">Qualcomm</h3>
              <h4 class="text-sm font-medium text-primary uppercase tracking-wide">Outstanding XR Company of the Year</h4>
            </div>
          </div>
          <div class="card">
            <div class="aspect-video bg-gray-200"></div>
            <div class="p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="h-8 w-16 bg-gray-300 rounded"></div>
                <span class="text-sm text-secondary">2024</span>
              </div>
              <h3 class="text-xl font-semibold text-dark mb-2">Meta & Sanzaru Games – Asgard's Wrath 2</h3>
              <h4 class="text-sm font-medium text-primary uppercase tracking-wide">XR Game of the Year</h4>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Judges Section -->
    <section class="section">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-bold mb-4">Over 70 Expert Judges</h2>
          <p class="text-lg text-secondary max-w-4xl mx-auto mb-8">
            Our judging panel is made up of industry-leading creatives in virtual reality. We have gathered experts in various sectors of XR, from academics, journalists, and creative directors to founders and C-Suite executives.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
          {judges && judges.map((judge) => (
            <div class="relative bg-gray-900 rounded-2xl overflow-hidden group">
              {/* Judge Image */}
              <div class="relative aspect-square overflow-hidden">
                {judge.profile_image_url ? (
                  <img
                    src={judge.profile_image_url}
                    alt={`${judge.first_name} ${judge.last_name}`}
                    class="w-full h-full object-cover transition-transform duration-500 ease-out group-hover:scale-110"
                  />
                ) : (
                  <div class="w-full h-full bg-gray-700 transition-transform duration-500 ease-out group-hover:scale-110"></div>
                )}

                {/* Tag Pills - positioned at top */}
                {judge.judge_tags && judge.judge_tags.length > 0 && (
                  <div class="absolute top-3 left-3 flex flex-wrap gap-2">
                    {judge.judge_tags.map((judgeTag) => (
                      judgeTag.tags && (
                        <span class="px-3 py-1 bg-gray-800/90 text-white text-xs font-medium rounded-full uppercase tracking-wide">
                          {judgeTag.tags.name}
                        </span>
                      )
                    ))}
                  </div>
                )}
              </div>

              {/* Judge Info - left aligned */}
              <div class="p-5 text-left">
                <h3 class="text-xl font-bold text-white mb-2">{judge.first_name} {judge.last_name}</h3>
                <p class="text-sm font-medium text-gray-300 mb-1">{judge.job_title}</p>
                <p class="text-sm text-gray-400">{judge.organization}</p>
              </div>
            </div>
          ))}
        </div>

        <div class="text-center">
          <a href="/judges" class="btn btn-primary">See the Full Judging Panel</a>
        </div>
      </div>
    </section>

    <!-- Testimonials Section -->
    <section class="section bg-light">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-bold mb-4">What they say</h2>
          <p class="text-lg text-secondary max-w-3xl mx-auto">
            Hear from previous attendees about their experience with the AIXR XR Awards and European XR Awards.
          </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <div class="card">
            <div class="mb-4">
              <div class="h-8 w-16 bg-gray-300 rounded"></div>
            </div>
            <blockquote class="text-lg text-dark mb-4 leading-relaxed">
              "The AIXR XR Awards is a very important event for us and we're so excited to see all the great companies participating."
            </blockquote>
            <div class="text-sm text-secondary">
              <span class="font-medium">— Google</span>
            </div>
          </div>
          <div class="card">
            <div class="mb-4">
              <div class="h-8 w-16 bg-gray-300 rounded"></div>
            </div>
            <blockquote class="text-lg text-dark mb-4 leading-relaxed">
              "Some of XR's biggest luminaries in attendance all there to celebrate some of the outstanding milestones in the industry."
            </blockquote>
            <div class="text-sm text-secondary">
              <span class="font-medium">— VR Scout</span>
            </div>
          </div>
          <div class="card">
            <div class="mb-4">
              <div class="h-8 w-16 bg-gray-300 rounded"></div>
            </div>
            <blockquote class="text-lg text-dark mb-4 leading-relaxed">
              "A great event that brings the XR community together to celebrate each other's success."
            </blockquote>
            <div class="text-sm text-secondary">
              <span class="font-medium">— Meta</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="section">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-4xl font-bold mb-4">
          Building the future of extended reality, together.
        </h2>
        <p class="text-lg text-secondary mb-8">Join us this year!</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/winners-and-finalists-2024" class="btn btn-primary btn-lg">2024 Winners</a>
          <a href="/xr-awards-2025" class="btn btn-outline btn-lg">XR Awards 2025</a>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<style>
  .feature-banner {
    background: linear-gradient(135deg, #4A1B5C 0%, #3A1447 100%);
    position: relative;
    z-index: 1;
  }

  .feature-banner::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #5A2B6C 0%, #4A1857 100%);
    border-radius: inherit;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: -1;
  }

  .group:hover .feature-banner::before {
    opacity: 1;
  }

  .feature-arrow {
    transition: transform 0.3s ease;
  }

  .group:hover .feature-arrow {
    transform: rotate(45deg);
  }
</style>
